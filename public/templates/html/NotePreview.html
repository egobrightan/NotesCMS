<div ng-if="item" class="note-preview-content"><h3 ng-if="!item.flags.edit"><i ng-class="{ 'active': item.flags.starred }" ng-click="toggleStarred(item)" class="starred-title-icon mdi-action-grade"> </i>&nbsp;{{ item.title }}</h3><p ng-if="!item.flags.edit">{{ item.subject }} | {{ item.subjectType }}</p><p ng-bind-html="item.content" ng-if="!item.flags.edit"></p><form ng-if="item.flags.edit" class="form-horizontal"><br/><div class="form-group"><label for="title" autofocus="autofocus" class="col-lg-2 control-label">Title</label><div class="col-lg-10"><input id="title" type="text" ng-model="item.title" class="form-control"/></div></div><div class="form-group"><label for="title" class="col-lg-2 control-label">Subject</label><div class="col-lg-10"><input id="subject" type="text" ng-model="item.subject" class="form-control"/></div></div><div class="form-group"><label for="subjectType" class="col-lg-2 control-label">Subject type</label><div class="col-lg-10"><input id="subjectType" type="text" ng-model="item.subjectType" class="form-control"/></div></div><div class="form-group"><label class="col-lg-2 control-label">Content</label><div class="col-lg-10"><text-angular id="content" ng-model="item.content"></text-angular></div></div></form><div ng-if="!item.flags.owned" ng-click="toggleDone(item)" class="btn btn-primary btn-raised right">Mark as {{ item.flags.done ? 'Undone' : 'Done' }}</div><div ng-if="!item.flags.owned" ng-click="toggleReadLater(item)" class="btn btn-success btn-raised right"> <i ng-if="item.flags.readLater" class="mdi-action-turned-in"></i>{{ item.flags.readLater ? 'Bookmarked' : 'Read Later' }}</div><div ng-if="!item.flags.owned" data-toggle="modal" data-target="#request-dialog" class="btn btn-warning btn-raised">Request Update</div><div id="request-dialog" class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" aria-hidden="true" class="close">&times;</button><h4 class="modal-title">Request update</h4></div><div class="modal-body"><form><div class="form-group"><label for="requestMessage" class="col-lg-2 control-label">Message</label><div class="col-lg-10"><textarea id="requestMessage" rows="3" ng-model="requestMessage" autofocus="autofocus" class="form-control"></textarea><span class="help-block">Message will be sent to the author and his group administrator.</span></div></div></form></div><div class="modal-footer"><button type="button" data-dismiss="modal" class="btn btn-default">Abort</button><button type="button" class="btn btn-primary">Send</button></div></div></div></div><div ng-if="item.flags.owned" data-toggle="modal" data-target="#remove-dialog" class="btn btn-danger btn-raised right">Remove</div><div id="remove-dialog" class="modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" aria-hidden="true" class="close">&times;</button><h4 class="modal-title">Are you sure? Current note will be lost forever...</h4></div><div class="modal-footer"><button type="button" data-dismiss="modal" class="btn btn-default">Abort</button><button type="button" ng-click="removeCurrentItem()" class="btn btn-danger">Delete</button></div></div></div></div><div ng-if="item.flags.owned" ng-click="toggleEditMode(item)" class="btn btn-success btn-raised right">{{ item.flags.edit ? 'Save' : 'Edit' }}</div><div ng-if="item.flags.owned &amp;&amp; !item.flags.edit" ng-click="togglePublished(item)" class="btn btn-warning btn-raised">{{ item.flags.published ? 'Unpublish' : 'Publish' }}</div></div>